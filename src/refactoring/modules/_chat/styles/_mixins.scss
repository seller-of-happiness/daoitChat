@use 'variables' as *;

@mixin chat-icon-base {
    width: $chat-icon-size;
    height: $chat-icon-size;
    border-radius: $chat-icon-border-radius-rounded;
    object-fit: cover;
    flex-shrink: 0;
}

@mixin chat-icon-initials {
    @include chat-icon-base;
    background-color: $chat-surface-200;
    color: $chat-surface-600;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: $chat-initials-font-weight;
    font-size: $chat-initials-font-size;
}

@mixin chat-icon-small {
    width: $chat-icon-size-small;
    height: $chat-icon-size-small;
    border-radius: $chat-icon-border-radius;
}

@mixin chat-icon-large {
    width: $chat-icon-size-large;
    height: $chat-icon-size-large;
}



@mixin chat-item-base {
    display: flex;
    align-items: center;
    position: relative;
    gap: $chat-item-gap;
    padding: $chat-item-padding;
    min-height: $chat-item-min-height;
    border-bottom: 1px solid $chat-border-color;
    cursor: pointer;
    transition: background-color $chat-transition-duration ease;
    
    &:hover {
        background-color: $chat-hover-bg;
    }
}

@mixin chat-item-content {
    flex: 1;
    min-width: 0;
    
    .chat-item-title {
        font-weight: $chat-title-font-weight;
        color: $chat-text-primary;
        margin: 0;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    .chat-item-subtitle {
        font-size: $chat-subtitle-font-size;
        color: $chat-text-secondary;
        margin: 0;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
}



@mixin employee-item {
    @include chat-item-base;
    
    .employee-avatar {
        @include chat-icon-base;
    }
    
    .employee-initials {
        @include chat-icon-initials;
    }
    
    .employee-info {
        @include chat-item-content;
    }
}



@mixin chat-button-icon {
    width: $chat-button-size;
    height: $chat-button-size;
    border-radius: $chat-button-border-radius;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid $chat-border-color;
    background: transparent;
    color: $chat-text-secondary;
    cursor: pointer;
    transition: all $chat-transition-duration ease;
    
    &:hover {
        background-color: $chat-hover-bg;
        color: $chat-text-primary;
    }
}



@mixin chat-message-base {
    padding: $chat-message-padding;
    border-radius: $chat-message-border-radius;
    max-width: 70%;
    word-wrap: break-word;
}

@mixin chat-message-mine {
    @include chat-message-base;
    background-color: $chat-message-bg-mine;
    color: white;
    margin-left: auto;
}

@mixin chat-message-theirs {
    @include chat-message-base;
    background-color: $chat-message-bg-theirs;
    color: $chat-text-primary;
}



@mixin form-label-primary {
    font-weight: 600;
    color: var(--p-surface-900);
    margin-bottom: 0.5rem;
    
    :global(.dark) & {
        color: var(--p-surface-0);
    }
}

@mixin form-label-secondary {
    font-size: 0.875rem;
    color: var(--p-surface-600);
    margin-bottom: 0.25rem;
    
    :global(.dark) & {
        color: var(--p-surface-400);
    }
}



@mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

@mixin flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

@mixin flex-column-gap($gap: 1rem) {
    display: flex;
    flex-direction: column;
    gap: $gap;
}

@mixin flex-row-gap($gap: 1rem) {
    display: flex;
    align-items: center;
    gap: $gap;
}



@mixin custom-scrollbar {
    &::-webkit-scrollbar {
        width: 4px;
    }
    
    &::-webkit-scrollbar-track {
        background: transparent;
    }
    
    &::-webkit-scrollbar-thumb {
        background-color: rgba(0, 0, 0, 0.2);
        border-radius: 2px;
    }
    
    &::-webkit-scrollbar-thumb:hover {
        background-color: rgba(0, 0, 0, 0.3);
    }
}



@mixin attachment-card {
    width: $attachment-card-width;
    padding: $attachment-padding;
    border-radius: $attachment-border-radius;
    background: $chat-surface-100;
    border: 1px solid $chat-border-color;
    
    .attachment-icon {
        width: $attachment-icon-size;
        height: $attachment-icon-size;
        @include flex-center;
        background: $chat-surface-200;
        border-radius: $chat-icon-border-radius;
        margin-bottom: 0.5rem;
    }
}



@mixin status-online {
    &::after {
        content: '';
        position: absolute;
        bottom: 0;
        right: 0;
        width: 10px;
        height: 10px;
        background-color: $chat-accent-green;
        border: 2px solid white;
        border-radius: 50%;
    }
}

@mixin status-indicator($color) {
    position: relative;
    
    &::after {
        content: '';
        position: absolute;
        bottom: 0;
        right: 0;
        width: 8px;
        height: 8px;
        background-color: $color;
        border: 2px solid white;
        border-radius: 50%;
    }
}